<nav class="navbar navbar-expand-md bg-light shadow-sm sticky-top">
  <div class="container-fluid">
    <!-- Left side - Brand -->
    <a class="navbar-brand d-flex align-items-center" href="/listings">
      <img src="/images/logo.webp" alt="Lets-Out Logo" class="logo-img me-2">
      <span class="brand-text">Lets-Out</span>
    </a>

    <!-- Center - Search Bar (visible on md and larger screens) -->
    <div class="d-none d-md-flex flex-grow-1 justify-content-center px-4">
      <form class="search-form" >
        <div class="input-group">
          <input 
            type="search" 
            class="form-control search-input" 
            placeholder="Search destinations..." 
            name="q"
            aria-label="Search"
          >
          <button class="btn btn-search" type="submit">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </form>
    </div>

    <!-- Hamburger menu -->
    <button class="navbar-toggler border-0 p-2 rounded-circle shadow-sm" 
            type="button" 
            data-bs-toggle="collapse" 
            data-bs-target="#navbarNavAltMarkup">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Right side - Navigation -->
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <!-- Search bar for mobile (visible only on small screens) -->
      <form class="d-md-none my-2 search-form" >
        <div class="input-group">
          <input 
            type="search" 
            class="form-control search-input" 
            placeholder="Search destinations..." 
            name="q"
            aria-label="Search"
          >
          <button class="btn btn-search" type="submit">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </form>

      <div class="navbar-nav ms-auto">
        <a class="nav-link" href="/listings/new">
          <i class="fas fa-plus me-1"></i> Add Listing
        </a>

        <% if (!currentUser) { %>
          <a class="nav-link btn btn-outline mx-2" href="/signup">
            <i class="fas fa-user-plus me-1"></i> Sign Up
          </a>
          <a class="nav-link btn" href="/login">
            <i class="fas fa-sign-in-alt me-1"></i> Login
          </a>
        <% } else { %>
          <a class="nav-link btn btn-outline" href="/logout">
            <i class="fas fa-sign-out-alt me-1"></i> Logout
          </a>
        <% } %>
      </div>
    </div>
  </div>
</nav>

<style>
.search-form {
  max-width: 600px;
  width: 100%;
}

.search-input {
  border-radius: 25px 0 0 25px;
  border: 1px solid #e0e0e0;
  padding: 0.6rem 1.2rem;
  font-size: 0.95rem;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.04);
}

.search-input:focus {
  border-color: #0d6efd;
  box-shadow: 0 0 0 0.2rem rgba(13,110,253,0.15);
}

.btn-search {
  background-color: #0d6efd;
  color: white;
  border: none;
  border-radius: 0 25px 25px 0;
  padding: 0.6rem 1.2rem;
  transition: all 0.3s ease;
}

.btn-search:hover {
  background-color: #0b5ed7;
  color: white;
  transform: translateY(-1px);
}

.btn-search:active {
  transform: translateY(0);
}

/* Mobile Styles */
@media (max-width: 768px) {
  .search-form {
    padding: 0 1rem;
  }
  
  .search-input,
  .btn-search {
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
  }
}

/* Animation for search focus */
.search-input:focus + .btn-search {
  background-color: #0b5ed7;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Add subtle hover effect to the entire search form */
.search-form:hover .search-input {
  border-color: #dee2e6;
}

/* Optional: Add a loading spinner for search */
.search-loading {
  position: absolute;
  right: 60px;
  top: 50%;
  transform: translateY(-50%);
  display: none;
}

.searching .search-loading {
  display: block;
}
/* Mobile menu styles */
@media (max-width: 768px) {
  .navbar-collapse {
    position: fixed;
    top: 60px;
    left: 0;
    padding-left: 15px;
    padding-right: 15px;
    padding-bottom: 15px;
    width: 100%;
    height: calc(100% - 60px);
    background: white;
    transform: translateX(-100%);
    transition: all 0.3s ease;
    display: block;
    z-index: 1000;
  }

  .navbar-collapse.show {
    transform: translateX(0);
  }

  .navbar-nav {
    padding: 1rem 0;
  }

  .navbar-nav .nav-link {
    padding: 0.8rem 1rem;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .navbar-nav .nav-link:hover {
    background-color: #f8f9fa;
  }

  .nav-link.btn {
    margin: 0.5rem 0;
    width: 100%;
    text-align: left;
  }
}

/* Overlay for mobile menu */
.navbar-backdrop {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 999;
}

@media (max-width: 768px) {
  .navbar-backdrop.show {
    display: block;
  }
}
</style>








