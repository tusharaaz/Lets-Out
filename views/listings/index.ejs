<% layout("layouts/boilerplate") %>
<style>
.filters-container {
    padding: 1rem 0;
    border-bottom: 1px solid #dee2e6;
    background-color: #fff;
}
.tax-prize{
  display: none;
}

.filter-item {
    text-align: center;
    padding: 0.5rem;
    opacity: 0.7;
    transition: all 0.3s ease;
    cursor: pointer;
}

.filter-item:hover {
    opacity: 1;
    transform: translateY(-2px);
}

.filter-item.active {
    opacity: 1;
    border-bottom: 2px solid #0d6efd;
}

.filter-icon {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    color: #212529;
}

.filter-label {
    font-size: 0.875rem;
    margin: 0;
    white-space: nowrap;
}

.tax-toggle {
    border: 1px solid #dee2e6;
    border-radius: 1rem;
    padding: 1rem;
    background-color: #fff;
}

@media (max-width: 768px) {
    .filters-scroll {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .filters-row {
        flex-wrap: nowrap;
        margin-right: -0.5rem;
        margin-left: -0.5rem;
    }
}
</style>

<div class="container-fluid filters-container">
    <div class="filters-scroll">
        <div class="row filters-row g-3">
            <div class="col-auto">
                <div class="filter-item ">
                    <div class="filter-icon">
                        <i class="fa-solid fa-fire"></i>
                    </div>
                    <p class="filter-label">Trending</p>
                </div>
            </div>
            
            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <p class="filter-label">Top Rated</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-indian-rupee-sign"></i>
                    </div>
                    <p class="filter-label">Budget</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-location-dot"></i>
                    </div>
                    <p class="filter-label">Near You</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-gem"></i>
                    </div>
                    <p class="filter-label">Luxury</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-house"></i>
                    </div>
                    <p class="filter-label">Houses</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-building"></i>
                    </div>
                    <p class="filter-label">Apartments</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-umbrella-beach"></i>
                    </div>
                    <p class="filter-label">Beach</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-mountain"></i>
                    </div>
                    <p class="filter-label">Mountains</p>
                </div>
            </div>

            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-calendar"></i>
                    </div>
                    <p class="filter-label">New</p>
                </div>
            </div>
            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-city"></i>
                    </div>
                    <p class="filter-label">City Life</p>
                </div>
            </div>
            
            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-tree"></i>
                    </div>
                    <p class="filter-label">Nature</p>
                </div>
            </div>
            
           
            
            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-person-hiking"></i>
                    </div>
                    <p class="filter-label">Adventure</p>
                </div>
            </div>
            
            <div class="col-auto">
                <div class="filter-item">
                    <div class="filter-icon">
                        <i class="fa-solid fa-paw"></i>
                    </div>
                    <p class="filter-label">Pet Friendly</p>
                </div>
            </div>
            
        
            
        </div>
    </div>

    <div class="mt-3">
        <div class="tax-toggle">
            <div class="form-check form-switch d-flex justify-content-between align-items-center">
                <label class="form-check-label" for="switchCheckDefault">
                    Display total after taxes
                </label>
                <input class="form-check-input ms-2" type="checkbox" role="switch" id="switchCheckDefault">
            </div>
        </div>
    </div>
</div>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
  <% for(let listing of allListings) { %>
    <a href="/listings/<%= listing._id %>" class="text-decoration-none text-dark">

      
      <div class="cards col">
        <div class="card mb-3 " >
          <img  src="<%= listing.image.url %>" class="card-img-top" style="height: 15rem" alt="<%= listing.title %>">
          <div class="card-img-overlay"></div>
          <div class="card-body ">
            
            <h5 class="card-title"><%= listing.title %></h5>
            <p class="card-text">
              <%= listing.description.substring(0, 100) %>...
              <br>
              <p>
                <div class="overlay"></div>
                <span class="position-absolute top-0 start-0 m-2 badge bg-success">
                  â‚¹ <%= listing.price ? listing.price.toLocaleString("en-IN") : 0 %>/night*
                </span>
                <i class="tax-prize"><small>&nbsp;&nbsp;+18% GST*</small></i>
              </p>
              <div class="overlay"></div>
              <span class="position-absolute top-0 end-0 m-2 like"><i class="fa-solid fa-heart"></i></span>
            </p>
           
          </div>
        </div>
      </div>
    </a>
  <% } %>
</div>

<script>
  let taxswitch = document.getElementById("switchCheckDefault");
  taxswitch.addEventListener("click", () => {
    let taxinfo = document.getElementsByClassName("tax-prize");
    for (let info of taxinfo) {
      if (info.style.display === "none" || info.style.display === "") {
        info.style.display = "block";
      } else {
        info.style.display = "none";
      }
    }
  });
</script>

